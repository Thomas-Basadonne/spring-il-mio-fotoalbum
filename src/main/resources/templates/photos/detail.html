<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{/fragments/resources :: head(pageTitle='Photo Detail')}">
</head>
<body>
<nav th:replace="~{/fragments/navbar :: navbar(current='photos')}"></nav>

<div class="container d-flex justify-content-center align-items-center flex-column" th:object="${photo}">
    <h1 class="my-4" th:text="'Dettaglio foto ' + *{id}"></h1>
    <div class="card text-center w-50">
        <div class="card-header" th:text="*{titolo}">
        </div>
        <img class="card-img img-fluid" style="width:100%; height:100%;" th:src="*{url}">
        <div class="card-body">
            <h5 class="card-title" th:text="*{titolo}"></h5>
            <p class="card-text" th:text="*{descrizione}"></p>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item text-start" th:text="'Foto caricata il ' + *{getFormattedCreatedAt()}"></li>
            <li class="list-group-item text-start" th:text="'Foto aggiornata il ' + *{getDataModifica}"></li>
        </ul>
        <div class="card-footer text-body-secondary">
            <a class="btn btn-primary" th:href="@{/photos}">Torna alla lista</a>
        </div>
    </div>
    <div>
        <h2>category:</h2>
        <!--L'operatore di sicurezza di navigazione ? viene utilizzato per accedere alle proprietà di un oggetto solo se l'oggetto stesso non è null.  -->
        <ul th:if="${photo.categories?.size() > 0}">
            <li th:each="category : ${photo.categories}" th:text="${category.name}"></li>
        </ul>
        <div class="alert alert-info" th:unless="${photo.categories?.size() > 0}">
            Non sono stati aggiunti category
        </div>
    </div>
</div>
</body>
</html>